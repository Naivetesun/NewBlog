<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
    <meta name="referrer" content="no-referrer">
    <meta name="renderer" content="webkit">
    <meta name="force-rendering" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="generator" content="Hugo 0.55.5" />
    
    
        <title>ARM汇编基础 - root@v</title>
    
    
    
<meta itemprop="name" content="ARM汇编基础">
<meta itemprop="description" content="ARM汇编">


<meta itemprop="datePublished" content="2018-08-10T19:34:10&#43;08:00" />
<meta itemprop="dateModified" content="2018-08-10T19:34:10&#43;08:00" />
<meta itemprop="wordCount" content="4718">



<meta itemprop="keywords" content="ARM," />

    <meta property="og:title" content="ARM汇编基础" />
<meta property="og:description" content="ARM汇编" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://vorblock.cc/post/arm%E6%B1%87%E7%BC%96%E5%9F%BA%E7%A1%80/" />

<meta property="og:image" content="https://vorblock.cc/favicon.svg" />

<meta property="og:image" content="https://my-md-1253484710.cos.ap-chengdu.myqcloud.com/tx.jpg" />
<meta property="article:published_time" content="2018-08-10T19:34:10&#43;08:00"/>
<meta property="article:modified_time" content="2018-08-10T19:34:10&#43;08:00"/>

    <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://vorblock.cc/favicon.svg"/>

<meta name="twitter:title" content="ARM汇编基础"/>
<meta name="twitter:description" content="ARM汇编"/>

    

    
    
    

    
    
    <meta property="description" content="ARM汇编">
    
    

    

    <link rel="canonical" href="https://vorblock.cc/post/arm%E6%B1%87%E7%BC%96%E5%9F%BA%E7%A1%80/">
    <link rel="shortcut icon" href="/favicon.png">


    
    
    <style media="screen">
            html{font-size:100%;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}body{margin:0;padding:0;background:#2a363b;color:#c6c6c7}button,input,select,textarea,label{margin:0;padding:0;font-family:inherit;font-size:inherit}img{max-width:100%}body{line-height:1.75}h1,h2,h3,h4,h5,h6{padding:0;line-height:1.25;text-align:center}h1{font-size:32px;font-weight:400}h2{font-size:22px;font-weight:700}h3,h4,h5,h6{font-size:19px;font-weight:700;text-align:left}blockquote{margin:1em 0;padding:0 2em;border-left:3px solid #ddd;font-style:oblique;background:#355c7d}pre,code{font-size:.9em}pre code{display:block;border:1px solid #ddd;padding:1em;overflow-x:auto;line-height:1.75}code{padding:.1rem .2rem;background:#99b898;color:#282c34}.vglnk{color:#282c34}pre code{background:#dbebc2}ul,ol{padding:0 0 0 20px}li{margin:4px 0;padding:0}a{color:#c6c6c7;text-decoration:none;padding-bottom:2px;border-bottom:1px solid}sup a{border-bottom:none}hr{display:block;height:1px;border:0;border-top:1px solid;margin:50px auto;padding:0;max-width:300px}.copyright{text-align:center}.post-nav{display:flex;justify-content:space-between;font-weight:700}.nav-next{margin-left:1em;text-align:right}.nav-prev{margin-right:1em}.comments{margin-top:20px}body{width:960px;margin:0 auto;padding:30px 0}.masthead{width:260px;padding:20px 50px 20px 10px;float:left}.main{width:700px;padding:32px 10px 20px 50px;margin-left:260px;border-left:3px solid #000;min-height:calc(100vh - 60px)}.masthead h1{margin-top:0;margin-bottom:34px;padding:0;text-align:right;font-size:46px;line-height:58px}.masthead h1 a{border-bottom:none}.masthead .tagline{font-style:italic;text-align:right}.masthead .menu{margin-right:20px;direction:rtl}.masthead .menu a{direction:ltr}.masthead .menu ul ul{list-style:none;margin-left:10px;margin-right:10px}.masthead .menu li li::before{content:"•\00a\000a0\00a0"}.title h3.post-meta{font-family:lucida console,andale mono,stkaiti,kaiti,simkai,monospace;text-align:right;margin:0 0 20px}.title h3.post-meta .tags a{font-size:.8em}.title h3.post-meta .category a{font-size:.9em}#menu-check{display:none}#menu-label{display:none}.main .title h1{margin-top:0;margin-bottom:40px}.title h3{font-weight:400;text-align:center}.subtitle{font-size:.9em;color:#666}.footnotes{font-size:.9em}table{margin:auto;border-top:1px solid #666;border-bottom:1px solid #666}table thead th{border-bottom:1px solid #666}th,td{padding:5px}thead,tfoot,tr:nth-child(even){background:#f8f8f8}.toc{margin-top:100px}.unselectable{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@-ms-viewport{width:device-width;}@viewport{width:device-width;}@media screen and (max-width:960px){body{width:auto;max-width:700px}.masthead{width:auto;float:none;text-align:center;margin-left:10px;margin-right:10px;padding:10px 10px 45px;border-bottom:3px solid #000}.main{width:auto;padding:20px 10px;margin-left:0;border-left:none;min-height:auto}.masthead h1{text-align:left;font-size:30px;margin-bottom:0;line-height:40px}.masthead .tagline{text-align:left;margin:0}.masthead .menu{direction:ltr;max-width:300px;margin-left:auto;margin-right:auto}.masthead #menu-label{position:absolute;top:30px;right:0}.masthead .menu ul{text-align:left;margin:0;padding:0;float:none}.masthead .menu ul ul{margin:0}.masthead .menu li{border-bottom:1px solid;list-style:none;margin:0;padding:0}.masthead .menu li:first-child{border-top:1px solid}.masthead .menu li li:last-child{border-bottom:none}.masthead .menu a{display:block;padding:15px 20px;border-bottom:none}.masthead .menu li li a{padding-left:30px}.masthead .menu li li::before{content:none}.masthead .menu li li a::before{content:"•\00a0\00a0\00a0"}#menu-label{display:inline-block;padding:0 20px;height:50px;cursor:pointer;line-height:50px;color:#333;font-size:20px;margin-top:10px}#menu-check~label .close-icon{display:none}#menu-check~label .open-icon{display:inline-block}#menu-check:checked~label .close-icon{display:inline-block}#menu-check:checked~label .open-icon{display:none}#menu-check~ul{display:none}#menu-check:checked~ul{display:block;margin-top:50px;margin-bottom:0}}@media screen and (max-width:720px){}@media screen and (max-width:480px){body{font-size:16px}h1{font-size:28px}h2{font-size:18px}h3,h4,h5,h6{font-size:16px}pre,code{font-size:12px}.masthead{padding-top:0}}body{font-family:Optima,lucida sans,Calibri,Candara,Arial,source-han-serif-sc,source han serif sc,source han serif cn,source han serif tc,source han serif tw,source han serif,songti sc,microsoft yahei,sans-serif}code{font-family:lucida console,andale mono,stkaiti,kaiti,simkai,monospace}pre code{font-family:Consolas,lucida console,Monaco,stkaiti,kaiti,simkai,monospace}.chroma{background-color:#f8f8f8}.chroma .x{color:#000}.chroma .err{color:#a40000}.chroma .lntd{vertical-align:top;padding:0;margin:0;border:0}.chroma .lntable{border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block}.chroma .hl{display:block;width:100%;background-color:#ffc}.chroma .lnt{margin-right:.4em;padding:0 .4em}.chroma .ln{margin-right:.4em;padding:0 .4em}.chroma .k{color:#204a87;font-weight:700}.chroma .kc{color:#204a87;font-weight:700}.chroma .kd{color:#204a87;font-weight:700}.chroma .kn{color:#204a87;font-weight:700}.chroma .kp{color:#204a87;font-weight:700}.chroma .kr{color:#204a87;font-weight:700}.chroma .kt{color:#204a87;font-weight:700}.chroma .n{color:#000}.chroma .na{color:#c4a000}.chroma .nb{color:#204a87}.chroma .bp{color:#3465a4}.chroma .nc{color:#000}.chroma .no{color:#000}.chroma .nd{color:#5c35cc;font-weight:700}.chroma .ni{color:#ce5c00}.chroma .ne{color:#c00;font-weight:700}.chroma .nf{color:#000}.chroma .fm{color:#000}.chroma .nl{color:#f57900}.chroma .nn{color:#000}.chroma .nx{color:#000}.chroma .py{color:#000}.chroma .nt{color:#204a87;font-weight:700}.chroma .nv{color:#000}.chroma .vc{color:#000}.chroma .vg{color:#000}.chroma .vi{color:#000}.chroma .vm{color:#000}.chroma .l{color:#000}.chroma .ld{color:#000}.chroma .s{color:#4e9a06}.chroma .sa{color:#4e9a06}.chroma .sb{color:#4e9a06}.chroma .sc{color:#4e9a06}.chroma .dl{color:#4e9a06}.chroma .sd{color:#8f5902;font-style:italic}.chroma .s2{color:#4e9a06}.chroma .se{color:#4e9a06}.chroma .sh{color:#4e9a06}.chroma .si{color:#4e9a06}.chroma .sx{color:#4e9a06}.chroma .sr{color:#4e9a06}.chroma .s1{color:#4e9a06}.chroma .ss{color:#4e9a06}.chroma .m{color:#0000cf;font-weight:700}.chroma .mb{color:#0000cf;font-weight:700}.chroma .mf{color:#0000cf;font-weight:700}.chroma .mh{color:#0000cf;font-weight:700}.chroma .mi{color:#0000cf;font-weight:700}.chroma .il{color:#0000cf;font-weight:700}.chroma .mo{color:#0000cf;font-weight:700}.chroma .o{color:#ce5c00;font-weight:700}.chroma .ow{color:#204a87;font-weight:700}.chroma .p{color:#000;font-weight:700}.chroma .c{color:#8f5902;font-style:italic}.chroma .ch{color:#8f5902;font-style:italic}.chroma .cm{color:#8f5902;font-style:italic}.chroma .c1{color:#8f5902;font-style:italic}.chroma .cs{color:#8f5902;font-style:italic}.chroma .cp{color:#8f5902;font-style:italic}.chroma .cpf{color:#8f5902;font-style:italic}.chroma .g{color:#000}.chroma .gd{color:#a40000}.chroma .ge{color:#000;font-style:italic}.chroma .gr{color:#ef2929}.chroma .gh{color:navy;font-weight:700}.chroma .gi{color:#00a000}.chroma .go{color:#000;font-style:italic}.chroma .gp{color:#8f5902}.chroma .gs{color:#000;font-weight:700}.chroma .gu{color:purple;font-weight:700}.chroma .gt{color:#a40000;font-weight:700}.chroma .gl{color:#000;text-decoration:underline}.chroma .w{color:#f8f8f8;text-decoration:underline}div#isso-thread .avatar>svg[data-hash=a0d752802ad5]{box-shadow:0 0 12px #b80f28;border-radius:50%}div#isso-thread a{border-bottom:none}
        </style>
        
    
    
        
        
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-140385231-1"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() { dataLayer.push(arguments); }
            gtag('js', new Date());
            gtag('config', 'UA-140385231-1');
        </script>
        
        
    

</head>



<body class="post">
    <header class="masthead">
        <div class="header">
            <h1><a href="/">root@v</a></h1>
            
            <p class="tagline">Are You OK?</p>
            
        </div>
        
        <nav class="menu">
            <input id="menu-check" type="checkbox" />
            <label id="menu-label" for="menu-check" class="unselectable">
                <span class="icon close-icon">✕</span>
                <span class="icon open-icon">☰</span>
                <span class="text">MENU</span>
            </label>
            <ul>
                
                    
                    <li>
                        <a href="/post/">/POSTS/~</a>
                    </li>
                
                    <li>
                        <a href="/todo/">/TODO/~</a>
                    </li>
                
                    <li>
                        <a href="/categories/">/CATEGORIES/~</a>
                    </li>
                
                    <li>
                        <a href="/tags/">/TAGS/~</a>
                    </li>
                
                    <li>
                        <a href="/about/">/ABOUT/~</a>
                    </li>
                
                    <li>
                        <a href="/reading/">/Reading/~</a>
                    </li>
                
                    <li>
                        <a href="/index.xml">/RSS</a>
                    </li>
                
            </ul>
            
        </nav>
        
    </header>

    <article class="main">
        <header class="title">
            
<h3 class="post-meta">
    
    <span itemprop="articleSection" class="category">
        
        <a href="/categories/ARM" rel="category">ARM</a>
        
    </span>
    /
    
    
    <span itemprop="keywords" class="tags">
        
        <a href="/tags/ARM" rel="tag">ARM</a>
        
    </span>
    
</h3>


<h1>ARM汇编基础</h1>

<h3>
    
    vorblock
    
      /  2018-08-10
</h3>

<hr>

        </header>
        <div class="container">
            

    
    
    

    
    
    

    

<h2 id="arm汇编基础-简">ARM汇编基础(简)</h2>

<p>经常忘记，做个笔记，好作复习。。</p>

<p>内容主要来源于《Android软件安全与逆向分析》和《逆向工程权威指南》以及 <a href="https://www.anquanke.com/post/id/86383" target="_blank">ARM 汇编</a> 和<a href="https://azeria-labs.com/writing-arm-assembly-part-1/" target="_blank">Azeria-labs</a></p>

<h3 id="arm架构">ARM架构</h3>

<p>ARM属于RISC CPU，</p>

<ul>
<li>ARM模式   4个字节opcode  32位</li>
<li>Thumb模式  2个字节opcode  16位</li>
<li>Thumb-2模式  同上（只是有部分4个字节的opcode)</li>
<li>64位ARM  4个字节opcode</li>
<li>ARM机器码在版本3之前是小端。但是之后默认采用大端格式，但可以设置切换到小端。</li>
</ul>

<p><img src="http://my-md-1253484710.coscd.myqcloud.com/20180810112415.png" alt="" /></p>

<h3 id="数据类型">数据类型</h3>

<p>数据类型在汇编语言中的扩展后缀为<strong>-h</strong>或者<strong>-sh</strong>对应着半字，<strong>-b</strong>或者<strong>-sb</strong>对应着字节，但是对于字并没有对应的扩展</p>

<p><img src="http://my-md-1253484710.coscd.myqcloud.com/20180810113108.png" alt="" /></p>
<div class="highlight"><pre class="chroma"><code class="language-asm" data-lang="asm"><span class="nf">ldr</span> <span class="err">=</span> <span class="err">加载字，宽度四字节</span>
<span class="nf">ldrh</span> <span class="err">=</span> <span class="err">加载无符号的半字，宽度两字节</span>
<span class="nf">ldrsh</span> <span class="err">=</span> <span class="err">加载有符号的半字，宽度两字节</span>
<span class="nf">ldrb</span> <span class="err">=</span> <span class="err">加载无符号的字节</span>
<span class="nf">ldrsb</span> <span class="err">=</span> <span class="err">加载有符号的字节</span>
<span class="nf">str</span> <span class="err">=</span> <span class="err">存储字，宽度四字节</span>
<span class="nf">strh</span> <span class="err">=</span> <span class="err">存储无符号的半字，宽度两字节</span>
<span class="nf">strsh</span> <span class="err">=</span> <span class="err">存储有符号的半字，宽度两字节</span>
<span class="nf">strb</span> <span class="err">=</span> <span class="err">存储无符号的字节</span>
<span class="nf">strsb</span> <span class="err">=</span> <span class="err">存储有符号的字节</span></code></pre></div>
<h3 id="字节序">字节序</h3>

<p>在内存中有两种字节排布顺序，大端序(BE)或者小端序(LE)。两者的主要不同是对象中的每个字节在内存中的存储顺序存在差异。一般X86中是小端序，最低的字节存储在最低的地址上。在大端机中最高的字节存储在最低的地址上。</p>

<p><img src="https://p0.ssl.qhimg.com/t01b6d7f41b02b0a58d.png" alt="" /></p>

<p>数据访问时采取大端序还是小端序使用程序状态寄存器(CPSR)的第9比特位来决定的。</p>

<p><img src="http://my-md-1253484710.coscd.myqcloud.com/20180810120701.png" alt="" /></p>

<h3 id="寄存器">寄存器</h3>

<p>37个32位寄存器，其中31个为基础寄存器，6个为状态寄存器。</p>

<p>用户模式下有</p>

<ul>
<li>不分组寄存器（R0-R7） R7一般存放系统调用号</li>
<li>分组寄存器（R8-R14）</li>
<li>程序计数器（R15）</li>
<li>单前程序状态寄存器（CPSR）</li>
</ul>

<p>两种状态：</p>

<table>
<thead>
<tr>
<th align="center">ARM状态（32位对齐）</th>
<th align="center">Thumb状态(16位对齐)</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center">R0-R7</td>
<td align="center">R0-R7(相同)</td>
</tr>

<tr>
<td align="center">CPSR</td>
<td align="center">CPSR（同）</td>
</tr>

<tr>
<td align="center">R11</td>
<td align="center">FP（栈帧指针）</td>
</tr>

<tr>
<td align="center">R12</td>
<td align="center">IP（内部程序调用）</td>
</tr>

<tr>
<td align="center">R13</td>
<td align="center">SP（栈指针）</td>
</tr>

<tr>
<td align="center">R14</td>
<td align="center">LR（链接寄存器）一般存放函数返回地址</td>
</tr>

<tr>
<td align="center">R15</td>
<td align="center">PC（程序计数器）</td>
</tr>
</tbody>
</table>

<p>和x86对比：<img src="https://p5.ssl.qhimg.com/t01a8e5d24fa91f9f0f.jpg" alt="" /></p>

<p>CSPR:<img src="http://my-md-1253484710.coscd.myqcloud.com/20180810122226.png" alt="" /></p>

<p>32位的CPSR寄存器的比特位含义，左边是最大比特位，右边是最小比特位。每个单元代表一个比特。</p>

<p><img src="http://my-md-1253484710.coscd.myqcloud.com/20180810122258.png" alt="" /></p>

<table>
<thead>
<tr>
<th>条件码</th>
<th>助记符后缀</th>
<th>标志</th>
<th>含义</th>
</tr>
</thead>

<tbody>
<tr>
<td>0000</td>
<td>EQ</td>
<td>Z置位</td>
<td>相等</td>
</tr>

<tr>
<td>0001</td>
<td>NE</td>
<td>Z清零</td>
<td>不相等</td>
</tr>

<tr>
<td>0010</td>
<td>CS</td>
<td>C置位</td>
<td>无符号数大于或等于</td>
</tr>

<tr>
<td>0011</td>
<td>CC</td>
<td>C清零</td>
<td>无符号数小于</td>
</tr>

<tr>
<td>0100</td>
<td>MI</td>
<td>N置位</td>
<td>负数</td>
</tr>

<tr>
<td>0101</td>
<td>PL</td>
<td>N清零</td>
<td>正数或零</td>
</tr>

<tr>
<td>0110</td>
<td>VS</td>
<td>V置位</td>
<td>溢出</td>
</tr>

<tr>
<td>0111</td>
<td>VC</td>
<td>V清零</td>
<td>未溢出</td>
</tr>

<tr>
<td>1000</td>
<td>HI</td>
<td>C置位Z清零</td>
<td>无符号数大于</td>
</tr>

<tr>
<td>1001</td>
<td>LS</td>
<td>C清零Z置位</td>
<td>无符号数小于或等于</td>
</tr>

<tr>
<td>1010</td>
<td>GE</td>
<td>N等于V</td>
<td>带符号数大于或等于</td>
</tr>

<tr>
<td>1011</td>
<td>LT</td>
<td>N不等于V</td>
<td>带符号数小于</td>
</tr>

<tr>
<td>1100</td>
<td>GT</td>
<td>Z清零且（N等于V）</td>
<td>带符号数大于</td>
</tr>

<tr>
<td>1101</td>
<td>LE</td>
<td>Z置位或（N不等于V）</td>
<td>带符号数小于或等于</td>
</tr>

<tr>
<td>1110</td>
<td>AL</td>
<td>忽略</td>
<td>无条件执行</td>
</tr>
</tbody>
</table>

<h3 id="程序结构">程序结构</h3>

<p>Android平台采用的是GUN ARM汇编格式，汇编器为GAS</p>

<p>参数传递：R0-R3这4个寄存器用来传递函数调用的第1到4个参数，超出的参数通过堆栈来传递。R0还用来存放函数调用的返回值。</p>

<p><img src="http://my-md-1253484710.coscd.myqcloud.com/20180810112712.gif" alt="" /></p>

<h5 id="汇编器指令">汇编器指令</h5>

<ul>
<li><code>.file</code>:源文件名</li>
<li><code>.align</code>:代码对齐方式</li>
<li><code>.ascii</code>:声明字符串</li>
<li><code>.global</code>:声明全局符号</li>
<li><code>.type</code>：指定符号的类型</li>
<li><code>.word</code>：存放地址值</li>
<li><code>.size</code>：设置指定符号的大小</li>
<li><code>.ident</code>：编译器标识</li>
</ul>

<h3 id="寻址方式">寻址方式</h3>

<ul>
<li>立即寻址</li>
</ul>

<p><code>MOV R0, #1234</code>     -&gt;R0=1234</p>

<ul>
<li>寄存器寻址</li>
</ul>

<p><code>MOV R1 = R2</code>   -&gt;R0=R1</p>

<ul>
<li><p>寄存器移位寻址</p>

<ul>
<li>LSL ：逻辑左移，移位后寄存器空出的低位补0</li>
<li>LSR：逻辑右移，移位后寄存器空出的高位补0</li>
<li>ASR：算术右移，移位过程中符号位保持不变，若源操作数为正数，则移位后空出的高位补0，否则补1。</li>
<li>ROR：循环右移，移位后移出的低位填入移位空出的高位。</li>
<li>RRX：带扩展的循环右移，操作数右移一位，移出的空位用C标志的值填充。</li>
</ul></li>
</ul>

<p><code>MOV R0, R1, LSL #2</code>  -&gt;R1左移两位（R1&lt;&lt;2）赋值给R0,相当于R0 = R1*4</p>

<ul>
<li>寄存器间接寻址</li>
</ul>

<p><code>LDR RO, [R1]</code>  -&gt;将R1寄存器的数值作为地址，取出此地址中的值赋给R0寄存器</p>

<ul>
<li>基址寻址</li>
</ul>

<p>多用于查表、数组访问操作。</p>

<p><code>LDR R0, [R1,#-4]</code> -&gt;将R1寄存器的数值减4作为地址，取出此地址的值赋给R0寄存器。</p>

<ul>
<li>多寄存器寻址</li>
</ul>

<p>一条指令最多完成16个通用寄存器值的传送。</p>

<p><code>LDMIA R0,{R1,R2,R3,R4}</code> -&gt;LDM为数据加载指令，指令的后缀IA表示每次执行完加载操作后R0寄存器的值自增1个字，ARM指令集中，子表示的是一个32位数值。这条指令作用为：R1 = [R0],R2 = [R0+#4],R3 = [R0+#8],R4 = [R0+#12]。</p>

<ul>
<li>堆栈寻址</li>
</ul>

<p>特定的指令来完成：<code>LDMFA/STMFA</code>、<code>LDMEA/STMEA</code>、<code>LDMFD/STMFD</code>、<code>LDMED/STMED</code>。</p>

<p>LDM和STM为指令前缀，表示多寄存器寻址，即一次传送多个寄存器的值。后面的后缀为指令后缀。</p>

<p><code>STMFD SP!, {R1-R7,LR}</code>  -&gt;将R1~R7,LR入栈，多用于保存子程序的现场。</p>

<p><code>LDMFD SP!, {R1-R7,LR}</code> -&gt;出栈，恢复现场。</p>

<ul>
<li>块拷贝寻址</li>
</ul>

<p>实现从连续地址数据从存储器的某一位置拷贝到另外一个位置，指令有：<code>LDMIA/STMIA</code>、<code>LDMDA/STMDA</code>、<code>LDMIB/STMIB</code>、<code>LDMDB/STMDB</code>。</p>

<p><code>LDMIA R0! {R0-R3}</code>  从R0寄存器指向的存储单元中读取3个字到R1-R3寄存器</p>

<p><code>STMIA R0! {R0-R3}</code> 存储从R1-R3寄存器的内容到R0寄存器指向的存储单元</p>

<ul>
<li>相对寻址</li>
</ul>

<p>以程序计数器PC的当前值为基地址，指令中的地址标号作为偏移量，将两者相加之后得到操作数的有效地址。</p>
<div class="highlight"><pre class="chroma"><code class="language-asm" data-lang="asm">  <span class="nf">BL</span> <span class="no">NEXT</span>
    <span class="err">····</span>
  <span class="nl">NEXT:</span>
    <span class="err">········</span></code></pre></div>
<h3 id="arm和thumb指令集">ARM和Thumb指令集</h3>

<h5 id="基本指令简述">基本指令简述</h5>

<p><code>MNEMONIC{S}{condition} {Rd}, Operand1, Operand2</code></p>

<p><code>助记符{是否使用CPSR}{是否条件执行以及条件} {目的寄存器}, 操作符1, 操作符2</code></p>

<blockquote>
<p>MNEMONIC     - 指令的助记符如ADD</p>

<p>{S}                      - 可选的扩展位，如果指令后加了S，则需要依据计算结果更新CPSR寄存器中的条件跳转相关    的FLAG</p>

<p>{condition}        - 如果机器码要被条件执行，那它需要满足的条件标示</p>

<p>{Rd}                    - 存储结果的目的寄存器</p>

<p>Operand1     - 第一个操作数，寄存器或者是一个立即数</p>

<p>Operand2     - 第二个(可变的)操作数，可以是一个立即数或者寄存器或者有偏移量的寄存器</p>
</blockquote>

<p>第二操作数还有如下操作：</p>
<div class="highlight"><pre class="chroma"><code class="language-asm" data-lang="asm"><span class="c">#123                    - 立即数
</span><span class="c"></span><span class="nf">Rx</span>                      <span class="p">-</span> <span class="err">寄存器比如</span><span class="no">R1</span>
<span class="nf">Rx</span><span class="p">,</span> <span class="no">ASR</span> <span class="no">n</span>               <span class="p">-</span> <span class="err">对寄存器中的值进行算术右移</span><span class="no">n位后的值</span>
<span class="nf">Rx</span><span class="p">,</span> <span class="no">LSL</span> <span class="no">n</span>               <span class="p">-</span> <span class="err">对寄存器中的值进行逻辑左移</span><span class="no">n位后的值</span>
<span class="nf">Rx</span><span class="p">,</span> <span class="no">LSR</span> <span class="no">n</span>               <span class="p">-</span> <span class="err">对寄存器中的值进行逻辑右移</span><span class="no">n位后的值</span>
<span class="nf">Rx</span><span class="p">,</span> <span class="no">ROR</span> <span class="no">n</span>               <span class="p">-</span> <span class="err">对寄存器中的值进行循环右移</span><span class="no">n位后的值</span>
<span class="nf">Rx</span><span class="p">,</span> <span class="no">RRX</span>                 <span class="p">-</span> <span class="err">对寄存器中的值进行带扩展的循环右移</span><span class="mi">1</span><span class="err">位后的值</span></code></pre></div><div class="highlight"><pre class="chroma"><code class="language-asm" data-lang="asm"><span class="nf">ADD</span>   <span class="no">R0</span><span class="p">,</span> <span class="no">R1</span><span class="p">,</span> <span class="no">R2</span>         <span class="p">-</span> <span class="err">将第一操作数</span><span class="no">R1的内容与第二操作数R2的内容相加</span><span class="err">，将结果存储到</span><span class="no">R0中</span><span class="err">。</span>
<span class="nf">ADD</span>   <span class="no">R0</span><span class="p">,</span> <span class="no">R1</span><span class="p">,</span> <span class="c">#2         - 将第一操作数R1的内容与第二操作数一个立即数相加，将结果存到R0中
</span><span class="c"></span><span class="no">MOVLE</span> <span class="no">R0</span><span class="p">,</span> <span class="c">#5             - 当满足条件LE(Less and Equal,小于等于0)将第二操作数立即数5移动到R0中,注意这条指令与MOVLE R0, R0, #5相同
</span><span class="c"></span><span class="no">MOV</span>   <span class="no">R0</span><span class="p">,</span> <span class="no">R1</span><span class="p">,</span> <span class="no">LSL</span> <span class="err">#</span><span class="mi">1</span>     <span class="p">-</span> <span class="err">将第二操作数</span><span class="no">R1寄存器中的值逻辑左移1位后存入R0</span></code></pre></div>
<p><img src="http://my-md-1253484710.coscd.myqcloud.com/20180810144732.png" alt="" /></p>

<h5 id="内存访问相关指令">内存访问相关指令</h5>

<p>通常，LDR被用来从内存中加载数据到寄存器，STR被用作将寄存器的值存放到内存中。</p>

<p><img src="http://my-md-1253484710.coscd.myqcloud.com/20180810145231.png" alt="" /></p>

<p>例子：</p>
<div class="highlight"><pre class="chroma"><code class="language-asm" data-lang="asm"><span class="na">.data</span>          <span class="err">/</span><span class="p">*</span> <span class="err">数据段是在内存中动态创建的，所以它的在内存中的地址不可预测</span><span class="p">*</span><span class="err">/</span>
<span class="nl">var1:</span> <span class="na">.word</span> <span class="mi">3</span>  <span class="err">/</span><span class="p">*</span> <span class="err">内存中的第一个变量</span> <span class="p">*</span><span class="err">/</span>
<span class="nl">var2:</span> <span class="na">.word</span> <span class="mi">4</span>  <span class="err">/</span><span class="p">*</span> <span class="err">内存中的第二个变量</span> <span class="p">*</span><span class="err">/</span>
<span class="na">.text</span>          <span class="err">/</span><span class="p">*</span> <span class="err">代码段开始</span> <span class="p">*</span><span class="err">/</span> 
<span class="no">.global</span> <span class="no">_start</span>
<span class="nl">_start:</span>
    <span class="nf">ldr</span> <span class="no">r0</span><span class="p">,</span> <span class="no">adr_var1</span>  <span class="err">@</span> <span class="err">将存放</span><span class="no">var1值的地址adr_var1加载到寄存器R0中</span> 
    <span class="no">ldr</span> <span class="no">r1</span><span class="p">,</span> <span class="no">adr_var2</span>  <span class="err">@</span> <span class="err">将存放</span><span class="no">var2值的地址adr_var2加载到寄存器R1中</span> 
    <span class="no">ldr</span> <span class="no">r2</span><span class="p">,</span> <span class="p">[</span><span class="no">r0</span><span class="p">]</span>      <span class="err">@</span> <span class="err">将</span><span class="no">R0所指向地址中存放的0x3加载到寄存器R2中</span>  
    <span class="no">str</span> <span class="no">r2</span><span class="p">,</span> <span class="p">[</span><span class="no">r1</span><span class="p">]</span>      <span class="err">@</span> <span class="err">将</span><span class="no">R2中的值0x3存放到R1做指向的地址</span> 
    <span class="no">bkpt</span>             
<span class="no">adr_var1</span><span class="p">:</span> <span class="no">.word</span> <span class="no">var1</span>  <span class="err">/</span><span class="p">*</span> <span class="no">var1的地址助记符</span> <span class="p">*</span><span class="err">/</span>
<span class="nl">adr_var2:</span> <span class="na">.word</span> <span class="no">var2</span>  <span class="err">/</span><span class="p">*</span> <span class="no">var2的地址助记符</span> <span class="p">*</span><span class="err">/</span></code></pre></div>
<p><img src="http://my-md-1253484710.coscd.myqcloud.com/20180810145711.gif" alt="" /></p>

<p><img src="http://my-md-1253484710.coscd.myqcloud.com/20180810154906.png" alt="" /></p>

<ul>
<li>第一种偏移形式：立即数作偏移</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-asm" data-lang="asm">  <span class="nf">STR</span>    <span class="no">Ra</span><span class="p">,</span> <span class="p">[</span><span class="no">Rb</span><span class="p">,</span> <span class="no">imm</span><span class="p">]</span>
  <span class="nf">LDR</span>    <span class="no">Ra</span><span class="p">,</span> <span class="p">[</span><span class="no">Rc</span><span class="p">,</span> <span class="no">imm</span><span class="p">]</span></code></pre></div><div class="highlight"><pre class="chroma"><code class="language-asm" data-lang="asm">  
  <span class="na">.data</span>
  <span class="nl">var1:</span> <span class="na">.word</span> <span class="mi">3</span>
  <span class="nl">var2:</span> <span class="na">.word</span> <span class="mi">4</span>
  <span class="na">.text</span>
  <span class="na">.global</span> <span class="no">_start</span>
  <span class="nl">_start:</span>
      <span class="nf">ldr</span> <span class="no">r0</span><span class="p">,</span> <span class="no">adr_var1</span>  <span class="err">@</span> <span class="err">将存放</span><span class="no">var1值的地址adr_var1加载到寄存器R0中</span> 
      <span class="no">ldr</span> <span class="no">r1</span><span class="p">,</span> <span class="no">adr_var2</span>  <span class="err">@</span> <span class="err">将存放</span><span class="no">var2值的地址adr_var2加载到寄存器R1中</span> 
      <span class="no">ldr</span> <span class="no">r2</span><span class="p">,</span> <span class="p">[</span><span class="no">r0</span><span class="p">]</span>      <span class="err">@</span> <span class="err">将</span><span class="no">R0所指向地址中存放的0x3加载到寄存器R2中</span>  
      <span class="no">str</span> <span class="no">r2</span><span class="p">,</span> <span class="p">[</span><span class="no">r1</span><span class="p">,</span> <span class="c">#2]  @ 取址模式：基于偏移量。R2寄存器中的值0x3被存放到R1寄存器的值加2所指向地址处。
</span><span class="c"></span>      <span class="no">str</span> <span class="no">r2</span><span class="p">,</span> <span class="p">[</span><span class="no">r1</span><span class="p">,</span> <span class="c">#4]! @ 取址模式：基于索引前置修改。R2寄存器中的值0x3被存放到R1寄存器的值加4所指向地址处，之后R1寄存器中存储的值加4,也就是R1=R1+4。
</span><span class="c"></span>      <span class="no">ldr</span> <span class="no">r3</span><span class="p">,</span> <span class="p">[</span><span class="no">r1</span><span class="p">],</span> <span class="c">#4  @ 取址模式：基于索引后置修改。R3寄存器中的值是从R1寄存器的值所指向的地址中加载的，加载之后R1寄存器中存储的值加4,也就是R1=R1+4。
</span><span class="c"></span>      <span class="no">bkpt</span>
  <span class="nl">adr_var1:</span> <span class="na">.word</span> <span class="no">var1</span>
  <span class="nl">adr_var2:</span> <span class="na">.word</span> <span class="no">var2</span></code></pre></div>
<p><img src="http://my-md-1253484710.coscd.myqcloud.com/20180810160844.gif" alt="" /></p>

<ul>
<li><strong>第二种偏移形式：寄存器作偏移</strong></li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-asm" data-lang="asm">  <span class="nf">STR</span>    <span class="no">Ra</span><span class="p">,</span> <span class="p">[</span><span class="no">Rb</span><span class="p">,</span> <span class="no">Rc</span><span class="p">]</span>
  <span class="nf">LDR</span>    <span class="no">Ra</span><span class="p">,</span> <span class="p">[</span><span class="no">Rb</span><span class="p">,</span> <span class="no">Rc</span><span class="p">]</span></code></pre></div><div class="highlight"><pre class="chroma"><code class="language-asm" data-lang="asm">  <span class="na">.data</span>
  <span class="nl">var1:</span> <span class="na">.word</span> <span class="mi">3</span>
  <span class="nl">var2:</span> <span class="na">.word</span> <span class="mi">4</span>
  <span class="na">.text</span>
  <span class="na">.global</span> <span class="no">_start</span>
  <span class="nl">_start:</span>
      <span class="nf">ldr</span> <span class="no">r0</span><span class="p">,</span> <span class="no">adr_var1</span>  <span class="err">@</span> <span class="err">将存放</span><span class="no">var1值的地址adr_var1加载到寄存器R0中</span> 
      <span class="no">ldr</span> <span class="no">r1</span><span class="p">,</span> <span class="no">adr_var2</span>  <span class="err">@</span> <span class="err">将存放</span><span class="no">var2值的地址adr_var2加载到寄存器R1中</span> 
      <span class="no">ldr</span> <span class="no">r2</span><span class="p">,</span> <span class="p">[</span><span class="no">r0</span><span class="p">]</span>      <span class="err">@</span> <span class="err">将</span><span class="no">R0所指向地址中存放的0x3加载到寄存器R2中</span>  
      <span class="no">str</span> <span class="no">r2</span><span class="p">,</span> <span class="p">[</span><span class="no">r1</span><span class="p">,</span> <span class="no">r2</span><span class="p">]</span>  <span class="err">@</span> <span class="err">取址模式：基于偏移量。</span><span class="no">R2寄存器中的值0x3被存放到R1寄存器的值加R2寄存器的值所指向地址处</span><span class="err">。</span><span class="no">R1寄存器不会被修改</span><span class="err">。</span> 
      <span class="no">str</span> <span class="no">r2</span><span class="p">,</span> <span class="p">[</span><span class="no">r1</span><span class="p">,</span> <span class="no">r2</span><span class="p">]!</span> <span class="err">@</span> <span class="err">取址模式：基于索引前置修改。</span><span class="no">R2寄存器中的值0x3被存放到R1寄存器的值加R2寄存器的值所指向地址处</span><span class="err">，之后</span><span class="no">R1寄存器中的值被更新</span><span class="p">,</span><span class="err">也就是</span><span class="no">R1</span><span class="err">=</span><span class="no">R1</span><span class="err">+</span><span class="no">R2</span><span class="err">。</span>
      <span class="nf">ldr</span> <span class="no">r3</span><span class="p">,</span> <span class="p">[</span><span class="no">r1</span><span class="p">],</span> <span class="no">r2</span>  <span class="err">@</span> <span class="err">取址模式：基于索引后置修改。</span><span class="no">R3寄存器中的值是从R1寄存器的值所指向的地址中加载的</span><span class="err">，加载之后</span><span class="no">R1寄存器中的值被更新也就是R1</span><span class="err">=</span><span class="no">R1</span><span class="err">+</span><span class="no">R2</span><span class="err">。</span>
      <span class="nf">bx</span> <span class="no">lr</span>
  <span class="nl">adr_var1:</span> <span class="na">.word</span> <span class="no">var1</span>
  <span class="nl">adr_var2:</span> <span class="na">.word</span> <span class="no">var2</span></code></pre></div>
<p><img src="http://my-md-1253484710.coscd.myqcloud.com/20180810162217.gif" alt="" /></p>

<ul>
<li><strong>第三种偏移形式：寄存器缩放值作偏移</strong></li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-asm" data-lang="asm">  <span class="nf">LDR</span>    <span class="no">Ra</span><span class="p">,</span> <span class="p">[</span><span class="no">Rb</span><span class="p">,</span> <span class="no">Rc</span><span class="p">,</span> <span class="err">&lt;</span><span class="no">shifter</span><span class="err">&gt;</span><span class="p">]</span>
  <span class="nf">STR</span>    <span class="no">Ra</span><span class="p">,</span> <span class="p">[</span><span class="no">Rb</span><span class="p">,</span> <span class="no">Rc</span><span class="p">,</span> <span class="err">&lt;</span><span class="no">shifter</span><span class="err">&gt;</span><span class="p">]</span></code></pre></div><div class="highlight"><pre class="chroma"><code class="language-asm" data-lang="asm">  <span class="na">.data</span>
  <span class="nl">var1:</span> <span class="na">.word</span> <span class="mi">3</span>
  <span class="nl">var2:</span> <span class="na">.word</span> <span class="mi">4</span>
  <span class="na">.text</span>
  <span class="na">.global</span> <span class="no">_start</span>
  <span class="nl">_start:</span>
      <span class="nf">ldr</span> <span class="no">r0</span><span class="p">,</span> <span class="no">adr_var1</span>         <span class="err">@</span> <span class="err">将存放</span><span class="no">var1值的地址adr_var1加载到寄存器R0中</span> 
      <span class="no">ldr</span> <span class="no">r1</span><span class="p">,</span> <span class="no">adr_var2</span>         <span class="err">@</span> <span class="err">将存放</span><span class="no">var2值的地址adr_var2加载到寄存器R1中</span> 
      <span class="no">ldr</span> <span class="no">r2</span><span class="p">,</span> <span class="p">[</span><span class="no">r0</span><span class="p">]</span>             <span class="err">@</span> <span class="err">将</span><span class="no">R0所指向地址中存放的0x3加载到寄存器R2中</span>  
      <span class="no">str</span> <span class="no">r2</span><span class="p">,</span> <span class="p">[</span><span class="no">r1</span><span class="p">,</span> <span class="no">r2</span><span class="p">,</span> <span class="no">LSL</span><span class="c">#2]  @ 取址模式：基于偏移量。R2寄存器中的值0x3被存放到R1寄存器的值加(左移两位后的R2寄存器的值)所指向地址处。R1寄存器不会被修改。
</span><span class="c"></span>      <span class="no">str</span> <span class="no">r2</span><span class="p">,</span> <span class="p">[</span><span class="no">r1</span><span class="p">,</span> <span class="no">r2</span><span class="p">,</span> <span class="no">LSL</span><span class="c">#2]! @ 取址模式：基于索引前置修改。R2寄存器中的值0x3被存放到R1寄存器的值加(左移两位后的R2寄存器的值)所指向地址处，之后R1寄存器中的值被更新,也就R1 = R1 + R2&lt;&lt;2。
</span><span class="c"></span>      <span class="no">ldr</span> <span class="no">r3</span><span class="p">,</span> <span class="p">[</span><span class="no">r1</span><span class="p">],</span> <span class="no">r2</span><span class="p">,</span> <span class="no">LSL</span><span class="c">#2  @ 取址模式：基于索引后置修改。R3寄存器中的值是从R1寄存器的值所指向的地址中加载的，加载之后R1寄存器中的值被更新也就是R1 = R1 + R2&lt;&lt;2。
</span><span class="c"></span>      <span class="no">bkpt</span>
  <span class="nl">adr_var1:</span> <span class="na">.word</span> <span class="no">var1</span>
  <span class="nl">adr_var2:</span> <span class="na">.word</span> <span class="no">var2</span></code></pre></div>
<p><img src="http://my-md-1253484710.coscd.myqcloud.com/20180810162414.png" alt="" /></p>

<p>如何区分取址模式：</p>

<p>如果有一个叹号!，那就是索引前置取址模式，即使用计算后的地址，之后更新基址寄存器。</p>

<p>如果在[]外有一个寄存器，那就是索引后置取址模式，即使用原有基址寄存器重的地址，之后再更新基址寄存器</p>

<p>除此之外，就都是偏移取址模式了</p>

<ul>
<li><strong>关于PC相对取址的LDR指令</strong></li>
</ul>

<p>有时候LDR并不仅仅被用来从内存中加载数据。还有如下这操作:</p>
<div class="highlight"><pre class="chroma"><code class="language-asm" data-lang="asm">  <span class="na">.section</span> <span class="no">.text</span>
  <span class="na">.global</span> <span class="no">_start</span>
  <span class="nl">_start:</span>
     <span class="nf">ldr</span> <span class="no">r0</span><span class="p">,</span> <span class="err">=</span><span class="no">jump</span>        <span class="err">/</span><span class="p">*</span> <span class="err">加载</span><span class="no">jump标签所在的内存位置到R0</span> <span class="p">*</span><span class="err">/</span>
     <span class="nf">ldr</span> <span class="no">r1</span><span class="p">,</span> <span class="err">=</span><span class="mi">0x68DB00AD</span>  <span class="err">/</span><span class="p">*</span> <span class="err">加载立即数</span><span class="mi">0x68DB00AD</span><span class="err">到</span><span class="no">R1</span> <span class="p">*</span><span class="err">/</span>
  <span class="nl">jump:</span>
     <span class="nf">ldr</span> <span class="no">r2</span><span class="p">,</span> <span class="err">=</span><span class="mi">511</span>         <span class="err">/</span><span class="p">*</span> <span class="err">加载立即数</span><span class="mi">511</span><span class="err">到</span><span class="no">R2</span> <span class="p">*</span><span class="err">/</span> 
     <span class="no">bkpt</span></code></pre></div>
<p>这些指令学术上被称作伪指令。</p>

<ul>
<li><strong>在ARM中使用立即数的规律</strong></li>
</ul>

<p>在ARM中不能像X86那样直接将立即数加载到寄存器中。因为你使用的立即数是受限的。</p>

<p>立即数的值：v = n ror 2*r 有效的立即数都可以通过循环右移来得到</p>
<div class="highlight"><pre class="chroma"><code class="language-asm" data-lang="asm">  <span class="c">#256        // 1 循环右移 24位 --&gt; 256
</span><span class="c"></span>  <span class="c">#384        // 6 循环右移 26位 --&gt; 384
</span><span class="c"></span>  <span class="c">#484        // 121 循环右移 30位 --&gt; 484
</span><span class="c"></span>  <span class="c">#16384      // 1 循环右移 18位 --&gt; 16384
</span><span class="c"></span>  <span class="c">#2030043136 // 121 循环右移 8位 --&gt; 2030043136
</span><span class="c"></span>  <span class="c">#0x06000000 // 6 循环右移 8位 --&gt; 100663296 (十六进制值0x06000000)
</span><span class="c"></span>  <span class="nf">Invalid</span> <span class="no">values</span><span class="p">:</span>
  <span class="c">#370        // 185 循环右移 31位 --&gt; 31不在范围内 (0 – 30)
</span><span class="c"></span>  <span class="c">#511        // 1 1111 1111 --&gt; 比特模型不符合
</span><span class="c"></span>  <span class="err">#0</span><span class="nf">x06010000</span> <span class="err">//</span> <span class="mi">1</span> <span class="mi">1000</span> <span class="mi">0001</span><span class="no">..</span> <span class="p">--</span><span class="err">&gt;</span> <span class="err">比特模型不符合</span></code></pre></div>
<p>这样并不能一次性加载所有的32位值。不过我们可以通过以下的两个选项来解决这个问题：</p>

<ul>
<li><p>用小部分去组成更大的值。    MOV r0, #511  将511分成两部分：MOV r0, #256, and ADD r0, #255</p></li>

<li><div class="highlight"><pre class="chroma"><code class="language-asm" data-lang="asm"><span class="na">.section</span> <span class="no">.text</span>
<span class="na">.global</span> <span class="no">_start</span>
<span class="nl">_start:</span>
 <span class="nf">mov</span> <span class="no">r0</span><span class="p">,</span> <span class="c">#256   /* 1 ror 24 = 256, so it&#39;s valid */
</span><span class="c"></span> <span class="no">add</span> <span class="no">r0</span><span class="p">,</span> <span class="c">#255   /* 255 ror 0 = 255, valid. r0 = 256 + 255 = 511 */
</span><span class="c"></span> <span class="no">ldr</span> <span class="no">r1</span><span class="p">,</span> <span class="err">=</span><span class="mi">511</span>   <span class="err">/</span><span class="p">*</span> <span class="no">load</span> <span class="mi">511</span> <span class="no">from</span> <span class="no">the</span> <span class="no">literal</span> <span class="no">pool</span> <span class="no">using</span> <span class="no">LDR</span> <span class="p">*</span><span class="err">/</span>
 <span class="nf">bkpt</span></code></pre></div>
<p>计算立即数的有效值脚本：<a href="https://raw.githubusercontent.com/azeria-labs/rotator/master/rotator.py" target="_blank">https://raw.githubusercontent.com/azeria-labs/rotator/master/rotator.py</a></p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">azeria@labs:~$ python rotator.py
Enter the value you want to check: <span class="m">511</span>
Sorry, <span class="m">511</span> cannot be used as an immediate number and has to be split.
azeria@labs:~$ python rotator.py
Enter the value you want to check: <span class="m">256</span>
The number <span class="m">256</span> can be used as a valid immediate number.
<span class="m">1</span> ror <span class="m">24</span> --&gt; <span class="m">256</span></code></pre></div></li>
</ul>

<p>下面的部分指令用到在详细查，记的话脑壳痛</p>

<p>##### 跳转指令</p>

<ol>
<li><code>B</code></li>
<li><code>BL</code></li>
<li><code>BX</code></li>
<li><code>BXL</code></li>
</ol>

<p>##### 存储器操作指令</p>

<ol>
<li><code>LDM</code></li>
<li><code>STM</code></li>
<li><code>PUSH</code></li>
<li><code>POP</code></li>
<li><code>SWP</code></li>
</ol>

<p>##### 数据处理</p>

<ol>
<li><code>MOV</code></li>
<li><code>MVN</code></li>
<li><code>ADD</code></li>
<li><code>ADC</code></li>
<li><code>SUB</code></li>
<li><code>RSB</code></li>
<li><code>SBC</code></li>
<li><code>RSC</code></li>
<li><code>MUL</code></li>
<li><code>MLS</code></li>
<li><code>MLA</code></li>
<li><code>UMULL</code></li>
<li><code>UMLAL</code></li>
<li><code>SMUULL</code></li>
<li><code>SMLAL</code></li>
<li><code>SMLAD</code></li>
<li><code>SMLSD</code></li>
<li><code>SDIV</code></li>
<li><code>UDIV</code></li>
<li><code>ASR</code></li>
<li><code>AND</code></li>
<li><code>ORR</code></li>
<li><code>EOR</code></li>
<li><code>BIC</code></li>
<li><code>LSL</code></li>
<li><code>LSR</code></li>
<li><code>RRX</code></li>
<li><code>ROR</code></li>
<li><code>CMP</code></li>
<li><code>CMN</code></li>
<li><code>TSL</code></li>
<li><code>TEQ</code></li>
</ol>

<p>##### 其他指令</p>

<ol>
<li><p><code>SWI</code></p></li>

<li><p><code>NOP</code></p></li>

<li><p><code>MRS</code></p></li>

<li><p><code>MSR</code></p></li>
</ol>

<p>###</p>


        </div>
        <footer>
            <hr>
            
        <div id="disqus_thread"></div>
<script>





(function() { 
var d = document, s = d.createElement('script');
s.src = 'https://vorblock.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        
    <script src="//instant.page/1.2.2" type="module" integrity="sha384-2xV8M5griQmzyiY3CDqh1dn4z3llDVqZDqzjzcY+jCBCk/a5fXJmuZ/40JJAPeoU"></script>

    
    <script>
        (function(){function center_el(tagName){var tags=document.getElementsByTagName(tagName),i,tag;for(i=0;i<tags.length;i++){tag=tags[i];var parent=tag.parentElement;if(parent.childNodes.length===1){if(parent.nodeName==='A'){parent=parent.parentElement;if(parent.childNodes.length!=1)continue;parent.firstChild.style.border='none';}
if(parent.nodeName==='P')parent.style.textAlign='center';}}}
var tagNames=['img','embed','object'];for(var i=0;i<tagNames.length;i++){center_el(tagNames[i]);}})();
    </script>
    
            <div class="copyright">
                <span class="copyright">&copy;2017-2019 vorblock - <a rel="license" href="https://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0</a></span>
            </div>
        </footer>
    </article>
</body>

</html>